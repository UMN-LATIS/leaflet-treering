<script id="PithEstimate-growthRateDialog-template" type="text/x-handlebars-template">
    <div class="PithEstimate-container">
        <div class="PithEstimate-sub-container">
            <p class="PithEstimate-title">
                Geometric / Duncan &nbsp;
                Inner Year Estimate:
            </p>
            <p class="PithEstimate-info">
                <i>Length:</i> {{l}} mm
            </p>
            <p class="PithEstimate-info">
                <i>Height:</i> {{h}} mm 
            </p>
            <p class="PithEstimate-info">
                <i>Radius:</i> {{r}} mm
            </p>
        </div>
        <div class="PithEstimate-sub-container">
            <div class="PithEstimate-table-container">
                <table class="PithEstimate-table">
                    <tr><th>Growth Rate</th><th>Year Est.</th></tr>
                    <tr id="PithEstimate-5-row"><td>5 years</td><td id="PithEstimate-5-estimate">{{yearEst5}}</td></tr>
                    <tr id="PithEstimate-10-row"><td>10 years</td><td id="PithEstimate-10-estimate">{{yearEst10}}</td></tr>
                    <tr id="PithEstimate-20-row"><td>20 years</td><td id="PithEstimate-20-estimate">{{yearEst20}}</td></tr>
                    <tr id="PithEstimate-30-row"><td>30 years</td><td id="PithEstimate-30-estimate">{{yearEst30}}</td></tr>
                    <tr id="PithEstimate-custom-row">
                        <td>
                            <!-- <span id="PithEstimate-customBtn-text">Click for Custom</span> -->
                            <input id="PithEstimate-customYearInput" type="number" min="0" max="{{customLimit}}" style="width: 52px;">
                            years 
                        </td>
                        <td>
                            <span id="PithEstimate-customBtn-estimate">NA</span>
                        </td></tr>
                </table>
            </div>
            
        </div>
        <div class="PithEstimate-sub-container">
            <div id="PithEstimate-copy-btn" class="PithEstimate-big-btn">
                C o p y  &nbsp;  T a b l e
            </div>
        </div>

        <div class="PithEstimate-sub-container">
            <div id="PithEstimate-geoConfirm-btn" class="PithEstimate-big-btn PithEstimate-confirm-btn">
                C o n f i r m
            </div>
        </div>
    </div>
</script>

<script id="PithEstimate-duncanInstructionDialog-template" type="text/x-handlebars-template">
    <div class="PithEstimate-container">
        <p class="PithEstimate-title">
            Geometric / Duncan Inner Year Estimate:
        </p>
        <p class="PithEstimate-instruction-text">
            Pith offset estimation using the Duncan Geometric approach.
            Appropriate when innermost rings include a complete 180ยบ arc within the imaged specimen area.
            The user must identify the ring of greatest biological age that includes an arc with 180ยบ or more.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>1)</b> Click to place the first width point, on the annual ring boundary on one side of the ring with the largest complete arc.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>2)</b> Click to place the second width point, on the annual ring boundary on the other side of the ring with the largest complete arc.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>3)</b> Click to place the base point for the arc, in the middle of the arcing ring, optionally using the precise midpoint as illustrated.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>4)</b> Click to place the height point for the arc, with a segment that is perpendicular to the width of the arc.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>5)</b> Click in the table row to select the number of years from which the mean growth rate will be estimated, or enter your own value.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>6)</b> Click to confirm the preferred option from the table.
        </p>
    </div>
</script>

<script id="PithEstimate-ccmInstructionDialog-template" type="text/x-handlebars-template">
    <div class="PithEstimate-container">
        <p class="PithEstimate-title">
            Pith Offset Estimation:
        </p>
        <p class="PithEstimate-instruction-text">
            Estimate pith offset dynamically using concentric circles, after Applequist 1958, <em>Journal of Forestry.</em> <br>
            <em>See instructions below.</em>
        </p>
        <div style="background-color: #f3f3f3; border-radius: 10px; margin-bottom: 8px; padding: 6px;">
            <div class="PithEstimate-ccmOptions-div">
                <span style="font-style: italic;">Number of rings used for estimation: </span>
                <input type="number" style="width:50px; text-align: right;" min="2" value="{{numShownCircles}}" id="PithEstimate-numShownCircles-input">
            </div>
            <div class="PithEstimate-ccmOptions-div">
                <span style="font-style: italic;">Pith location movement amount: </span>
                <input type="number" style="width:70px; text-align: right;" value="{{defaultMovement}}" step="0.001" id="PithEstimate-movement-input">
                <span> mm</span>
            </div>
            <div class="PithEstimate-ccmOptions-div" style="margin-bottom: 6px;"> 
                <span style="font-style: italic;">Growth rate function: <b>Linear</b> </span><br>
                <!--
                <input type="radio" id="PithEstimate-linear-function" name="PithEstimate-function-type" checked> 
                <label for="PithEstimate-linear-function">Linear</label>
                <br>
                <input type="radio" id="PithEstimate-exponential-function" name="PithEstimate-function-type"> 
                <label for="PithEstimate-exponential-function">Negative Exponential (Cook, 2001)</label>
                <br>
                <input type="radio" id="PithEstimate-saturating-function" name="PithEstimate-function-type">
                <label for="PithEstimate-saturating-function">Saturating</label><br>  -->
            </div>
            <div class="PithEstimate-ccmOptions-div"> 
                <div class="PithEstimate-zoomMultiplier-toggle">
                    <label><input type="checkbox" id="PithEstimate-zoomMultiplier-btn"><span>Do not adjust movement based on zoom level.</span></label>
                </div>
            </div>
        </div>

        <div class="PithEstimate-sub-container">
            <div id="PithEstimate-ccmConfirm-btn" class="PithEstimate-big-btn PithEstimate-confirm-btn">
                C o n f i r m
            </div>
        </div>

        <table class="PithEstimate-table PithEstimate-vertical-headers" style="margin: 8px 0;">
            <tr><th>Pith Distance</th><td>{{pithDistance}} mm</td></tr>
            <tr><th style="background-color: #c2e07d;">Number Years Estimated</th><td>{{numYearEst}}</td></tr>
            <tr><th>Inner Year Estimate</th><td>{{innerYearEst}}</td></tr>
            <tr><th style="background-color: #c2e07d;">Missing Radius Length</th><td>{{missingRadiusLen}} mm</td></tr>
            <tr><th>Missing Radius %</th><td>{{missingRadiusPercent}} %</td></tr>
            <tr><th style="background-color: #c2e07d;">Rings / Age %</th><td>{{agePresentPercent}} % present <br> {{ageEstimatedPercent}} % estimated</td></tr>
            <tr><th>Distance %</th><td>{{distancePresentPercent}} % present <br> {{distanceEstimatedPercent}} % estimated</td></tr>
        </table>
        <p class="PithEstimate-title" style="background-color: white;">
            Instructions:
        </p>
        <p class="PithEstimate-instruction-text">
            <b>1)</b> Click to place the estimated pith location marker. 
        </p>
        <p class="PithEstimate-instruction-text">
            <b>2)</b> Move pith marker using WASD keys, carefully aligning circle curvature to match curvature of annual ring boundaries.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>3)</b> Adjust the number of rings from which the growth rate is calculated, as needed. 
            *Results appear in the table below; the default of ten rings is only a suggested starting place.
        </p>
        <p class="PithEstimate-instruction-text">
            <b>4)</b> Click confirm to update metadata.
        </p>
    </div>  
</script>